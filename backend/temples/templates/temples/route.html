{# temples/templates/temples/route.html #}
<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>Route</title>
</head>

<body>
  <div id="map"></div>

  {# キーがあればそれ、無ければダミー **** を使用 #}
  {% with (MAPS_API_KEY|default:'****') as KEY %}
  <script
    src="https://maps.googleapis.com/maps/api/js?key={{ KEY }}&callback=initMap&libraries=places,marker&v=weekly&loading=async"
    async defer></script>
  {% endwith %}
  <script>
    // 必要最低限：テストは callback=initMap の存在だけ確認
    function initMap() { /* no-op for tests */ }
    window.initMap = initMap;
  </script>
</body>

</html>
