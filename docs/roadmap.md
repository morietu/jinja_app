# 🚀 開発ロードマップ（ポストMVP）

MVP（AI参拝ナビのコア機能・基本サポート機能・インフラ基盤・テスト）が完了した後に進める追加作業の一覧です。  
進捗管理のためにチェックボックス形式で記載しています。

---

## ⚙️ CI/CD（GitHub Actions / デプロイ）
- [x] GitHub Actions ワークフロー整備（lint / test / migrate / build）
- [ ] テストカバレッジレポート追加（Codecov など）
- [ ] E2E テストを CI に組み込み（検索→お気に入り→御朱印投稿まで）
- [ ] Docker build & push を CI/CD に統合
- [ ] 本番デプロイ（AWS ECS/Fargate + ALB + ACM）自動化
- [ ] Secrets 管理（SSM Parameter Store）連携
- [ ] **ステージング環境**の常設（DBは本番と同一メジャーバージョン）
- [ ] **IaC（Terraform/CDK）**でVPC/ECS/RDS/S3/ALBをコード化
- [ ] **リリース戦略**（Blue-Green/カナリア/ロールバック手順）

---

## 🔒 セキュリティ / コンプライアンス
- [ ] 依存脆弱性スキャン（Dependabot/OSV）と自動PR
- [ ] **SAST/DAST**（CodeQL/ZAP 等）をCIに組み込み
- [ ] **SBOM** 生成/配布（Syft など）
- [ ] 秘密情報の**ローテーション**（KMS + SSM）
- [ ] JWT/クッキーの強化（期限/回転/CORS/CSRF 方針）
- [ ] 画像アップロードの**拡張子/MIME/サイズ**検証、**EXIF除去**
- [ ] プライバシー/法務（利用規約・プライポリ・クッキーバナー）
- [ ] 画像ライセンス/第三者コンテンツの権利確認

---

## 🪪 データ運用 / API
- [ ] Postgres **バックアップ & PITR**、復旧手順ドリル
- [ ] マイグレーション **ロールバック**戦略（バックアウトSQL/フラグ）
- [ ] **API バージョニング**と非推奨ポリシー
- [ ] データ保持/削除ポリシー（個人情報の最小化）

---

## 🧭 観測性 / SRE
- [ ] **構造化ログ** + 集約（CloudWatch/Loki）
- [ ] **メトリクス**（リクエスト/エラー/レイテンシ）と**SLO**設定
- [ ] **分散トレース**（OpenTelemetry）
- [ ] アラート/オンコール/インシデント運用（Runbook/ポストモーテム）
- [ ] 合成監視（ヘルスチェック/エンドツーエンド）

---

## 📊 アナリティクス / 成長
- [ ] イベント設計（view/fav/search/route 等のスキーマ）
- [ ] プロダクト分析基盤（GA4/PostHog 等）
- [ ] **A/B テスト**基盤（Feature Flag/Experiment 設計）

---

## 🤖 AI/コンシェルジュ品質
- [ ] プロンプト**版管理**・**評価用データセット**整備
- [ ] 自動評価（ルーブリック/メトリクス）と回帰テスト
- [ ] **コスト監視**（推論/トークン）・キャッシュ戦略
- [ ] 出力の**モデレーション/安全性**チェック

---

## 🎨 UI/UX 改善
- [ ] モバイル UI のブラッシュアップ（Expo + shadcn/ui）
- [ ] アニメーション・トランジション導入（Framer Motion / Reanimated）
- [ ] ダークモード対応
- [ ] アクセシビリティ改善（キーボード操作・色弱対応）
- [ ] マイページ UI 再設計（御朱印帳風ビュー）
- [ ] ホーム画面の情報カード（おすすめ/最近見た）
- [ ] **空状態/エラーステート**/スケルトンの整備
- [ ] 画像/地図の**遅延読込**とパフォーマンス予算（LCP/CLS）

---

## 🌐 i18n / L10n
- [ ] 多言語対応（英/中/韓）フレームワーク選定
- [ ] 翻訳フロー（辞書/未訳フォールバック/監査）

---

## 💳 追加機能（商用展開）
- [ ] 決済機能（Stripe / PayPay / クレカ対応）
- [ ] プレミアム会員プラン（広告非表示・AI診断拡張）
- [ ] SNS 共有（Instagram / TikTok / Twitter 連携）
- [ ] プッシュ通知（参拝リマインダー / 新着御朱印）
- [ ] 御朱印帳クラウド同期（S3 + DynamoDB 等）
- [ ] ランキング自動集計バッチ（定期ジョブ化）

---

## Short-term
- お気に入りカードに「＋DBへ取り込む」実装
- マイページの未保存お気に入り → 一括取込
- Places Detailsのキャッシュ/レート制御

## 📌 補足
- これらは **MVP 完了後**に着手する追加開発項目です。  
- 優先度は **CI/CD → セキュリティ/観測性 → UI/成長 → 商用機能** の順が効率的です。
